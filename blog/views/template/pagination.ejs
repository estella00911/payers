<section class="pagination">
  <nav aria-label="Page navigation example" class="pagination-sm">
    <ul class="pagination">
      <% if (currentPage === 1) { %>
        <li class="page-item disabled">
          <a class="page-link" href="/" tabindex="-1">First</a>
        </li>
      <%  } else { %>
        <li class="page-item">
          <a class="page-link" href="/">First</a>
        </li>
      <% } %>
      <% if (Number(currentPage) > 0) { %>
        <% if (Number(currentPage) < 3 ) { %>
          <% let paginationEnd = totalPage >= 4 ? 4 : totalPage; %>
          <% for (let i=1; i<= paginationEnd; i++) { %>
            <% if (i === Number(currentPage)) { %>
              <li class="page-item active"><a class="page-link" href="?page=<%= i %>"><%= i %></a></li>
            <% } else { %>
              <li class="page-item"><a class="page-link" href="?page=<%= i %>"><%= i %></a></li>
            <% } %>
          <% } %>
        <% } else { %>
          <% if (totalPage - Number(currentPage) <= 2) { %>
            <% for (let i=Number(currentPage)-2; i <= totalPage; i++) { %>
              <% if (i === Number(currentPage)) { %>
                <li class="page-item active"><a class="page-link" href="?page=<%= i %>"><%= i %></a></li>
              <% } else { %>
                <li class="page-item"><a class="page-link" href='?page=<%= i %>'><%= i %></a></li>
              <% } %>
            <% } %>
          <% } else { %>
            <% for (let i=Number(currentPage)-2; i <= Number(currentPage)+2; i++) { %>
              <% if (i === Number(currentPage)) { %>
                <li class="page-item active"><a class="page-link" href="?page=<%= i %>"><%= i %></a></li>
              <% } else { %>
                <li class="page-item"><a class="page-link" href='?page=<%= i %>'><%= i %></a></li>
              <% } %>
            <% } %>
          <% } %>
        <% } %>
      <% } %>
       <% if (currentPage === totalPage) { %>
         <li class="page-item disabled">
           <a class="page-link" href="/?page=<%= totalPage%>" tabindex="-1">Last</a>
        </li>
      <%  } else { %>
        <li class="page-item">
          <a class="page-link" href="/?page=<%= totalPage%>">Last</a>
        </li>
      <% } %>
    </ul>
  </nav>
</section>